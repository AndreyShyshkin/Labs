#include <cmath> // бібліотека математичних функцій
#include <iomanip> // бібліотека для форматування виводу
#include <iostream> // бібліотека потоків вводу-виводу
using namespace std;

// Функція для обчислення меншої діагоналі ромба
double calculateSmallerDiagonal(double perimeter) 
{
  // Сторона ромба
  double side = perimeter / 4;

  // Половина сторони (оскільки висота ділить сторону навпіл)
  double halfSide = side / 2;

  // Висота ромба (за теоремою Піфагора)
  double height = sqrt(side * side - halfSide * halfSide);

  // Менша діагональ (за властивістю ромба)
  double smallerDiagonal = 2 * height;

  return smallerDiagonal;
}

int main() // основна функція - точка входу до програми
{          // початок основної функції

  cout << "^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^"
       << endl; // виведення відомостей про
                // лабораторну роботу
  cout << "Лабораторна робота №1" << endl;
  cout << "Студент Шишкін Андрій Антонович, ІПЗ-11, Варіант 25" << endl;
  cout << "Завдання 1. Написати програму, що розв'язує задачу з математики та "
          "фізики шкільногого курсу, відповідно до варіантів таблиці 1.8"
       << endl;
  cout << "Висота ромба, проведена з вершини тупого кута, ділить сторону "
          "навпіл. Знайдіть меншу діагональ, якщо значення периметра ромба "
          "введене з клавіатури."
       << endl;
  cout << "^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^" << endl;
  double perimeter = 0;

  while (perimeter == 0) 
  {
    // Введення периметра з клавіатури
    cout << "Введіть периметр ромба: "; // вивід повідомлення на екран
    cin >> perimeter; // ввід значення з клавіатури

    if (cin.fail()) 
    {
      cout << "Помилка: неправильний символ. Можно тільки число. Спробуйте ще "
              "раз.\n";
      cin.clear();
      cin.ignore(numeric_limits<streamsize>::max(), '\n'); // очистити буфер
      perimeter = 0;
    } else if (perimeter == 0) 
    {
      cout << "Периметер не може бути рівним нулю. Спробуйте ще раз.\n";
    }
  }

  // Обчислення меншої діагоналі
  double result = calculateSmallerDiagonal(perimeter);

  // Виведення результату
  cout << "Менша діагональ ромба: " << std::fixed << std::setprecision(2)
       << result << std::endl; // форматне виведення результату

  return 0; // завершення програми
}
